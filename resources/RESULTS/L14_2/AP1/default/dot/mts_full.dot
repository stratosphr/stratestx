digraph g {

	rankdir="LR"

	__invisible__[shape="point", color="forestgreen"]
	q0[label=<<b>q<sub>0</sub> = ¬(p0 = Portes(1)=ouvertes[0]), ¬(p1 = ∃(R).(and(and(R ∈ Rames), and(R=1, Mvt(R)=1, ∀(R1).(and(R1 ∈ [1..NR]) =&gt; and(R1 ≠ R) =&gt; or(Pos(R1) ≠ (Pos(R) + Dir(R)), , Dir(R1) ≠ Dir(R))))))), ¬(p2 = ∃(R).(and(and(R ∈ Rames), and(R=1, Portes(R)=refermees[2], Mvt(R)=0, or(Pos(R) ≠ NS1, , Dir(R) ≠ 1), or(Pos(R) ≠ 0, , Dir(R) ≠ -1), ∀(R1).(and(R1 ∈ Rames) =&gt; R1 ≠ R =&gt; or(Pos(R1) ≠ Pos(R), , Dir(R1) ≠ Dir(R)))))))</b>>, shape="box", style="rounded, filled", fillcolor="limegreen", color="forestgreen", penwidth=3] // Initial
	q4[label=<<b>q<sub>4</sub> = (p0 = Portes(1)=ouvertes[0]), ¬(p1 = ∃(R).(and(and(R ∈ Rames), and(R=1, Mvt(R)=1, ∀(R1).(and(R1 ∈ [1..NR]) =&gt; and(R1 ≠ R) =&gt; or(Pos(R1) ≠ (Pos(R) + Dir(R)), , Dir(R1) ≠ Dir(R))))))), ¬(p2 = ∃(R).(and(and(R ∈ Rames), and(R=1, Portes(R)=refermees[2], Mvt(R)=0, or(Pos(R) ≠ NS1, , Dir(R) ≠ 1), or(Pos(R) ≠ 0, , Dir(R) ≠ -1), ∀(R1).(and(R1 ∈ Rames) =&gt; R1 ≠ R =&gt; or(Pos(R1) ≠ Pos(R), , Dir(R1) ≠ Dir(R)))))))</b>>, shape="box", style="rounded, filled", fillcolor="limegreen", color="forestgreen"]
	q1[label=<<b>q<sub>1</sub> = ¬(p0 = Portes(1)=ouvertes[0]), ¬(p1 = ∃(R).(and(and(R ∈ Rames), and(R=1, Mvt(R)=1, ∀(R1).(and(R1 ∈ [1..NR]) =&gt; and(R1 ≠ R) =&gt; or(Pos(R1) ≠ (Pos(R) + Dir(R)), , Dir(R1) ≠ Dir(R))))))), (p2 = ∃(R).(and(and(R ∈ Rames), and(R=1, Portes(R)=refermees[2], Mvt(R)=0, or(Pos(R) ≠ NS1, , Dir(R) ≠ 1), or(Pos(R) ≠ 0, , Dir(R) ≠ -1), ∀(R1).(and(R1 ∈ Rames) =&gt; R1 ≠ R =&gt; or(Pos(R1) ≠ Pos(R), , Dir(R1) ≠ Dir(R)))))))</b>>, shape="box", style="rounded, filled", fillcolor="limegreen", color="forestgreen"]
	q2[label=<<b>q<sub>2</sub> = ¬(p0 = Portes(1)=ouvertes[0]), (p1 = ∃(R).(and(and(R ∈ Rames), and(R=1, Mvt(R)=1, ∀(R1).(and(R1 ∈ [1..NR]) =&gt; and(R1 ≠ R) =&gt; or(Pos(R1) ≠ (Pos(R) + Dir(R)), , Dir(R1) ≠ Dir(R))))))), ¬(p2 = ∃(R).(and(and(R ∈ Rames), and(R=1, Portes(R)=refermees[2], Mvt(R)=0, or(Pos(R) ≠ NS1, , Dir(R) ≠ 1), or(Pos(R) ≠ 0, , Dir(R) ≠ -1), ∀(R1).(and(R1 ∈ Rames) =&gt; R1 ≠ R =&gt; or(Pos(R1) ≠ Pos(R), , Dir(R1) ≠ Dir(R)))))))</b>>, shape="box", style="rounded, filled", fillcolor="limegreen", color="forestgreen"]

	__invisible__ -> q0[penwidth=3, color="forestgreen"]
	q0 -> q4[label=<OP1>, color="forestgreen"]
	q4 -> q0[label=<FP1>, color="forestgreen"]
	q4 -> q4[label=<OP3>, color="forestgreen"]
	q4 -> q4[label=<FP3>, color="forestgreen"]
	q4 -> q4[label=<AS2>, color="forestgreen"]
	q4 -> q4[label=<AS3>, color="forestgreen"]
	q4 -> q4[label=<CD2>, color="forestgreen"]
	q4 -> q4[label=<CD3>, color="forestgreen"]
	q4 -> q4[label=<DS2>, color="forestgreen"]
	q4 -> q4[label=<DS3>, color="forestgreen"]
	q4 -> q1[label=<FP1>, color="forestgreen"]
	q1 -> q1[label=<AS2>, color="forestgreen"]
	q1 -> q1[label=<AS3>, color="forestgreen"]
	q1 -> q1[label=<CD2>, color="forestgreen"]
	q1 -> q1[label=<CD3>, color="forestgreen"]
	q1 -> q0[label=<DS1>, color="forestgreen"]
	q1 -> q2[label=<DS1>, color="forestgreen"]
	q2 -> q0[label=<AS1>, color="forestgreen"]
	q2 -> q2[label=<AS2>, color="forestgreen"]
	q2 -> q2[label=<AS3>, color="forestgreen"]
	q2 -> q2[label=<CD2>, color="forestgreen"]
	q2 -> q2[label=<CD3>, color="forestgreen"]
	q2 -> q2[label=<DS2>, color="forestgreen"]
	q2 -> q2[label=<DS3>, color="forestgreen"]
	q2 -> q2[label=<FP2>, color="forestgreen"]
	q2 -> q2[label=<FP3>, color="forestgreen"]
	q2 -> q2[label=<OP2>, color="forestgreen"]
	q2 -> q2[label=<OP3>, color="forestgreen"]
	q1 -> q1[label=<DS2>, color="forestgreen"]
	q1 -> q1[label=<DS3>, color="forestgreen"]
	q1 -> q1[label=<FP2>, color="forestgreen"]
	q1 -> q1[label=<FP3>, color="forestgreen"]
	q1 -> q1[label=<OP2>, color="forestgreen"]
	q1 -> q1[label=<OP3>, color="forestgreen"]
	q4 -> q4[label=<FP2>, color="forestgreen"]
	q4 -> q4[label=<OP2>, color="forestgreen"]
	q0 -> q0[label=<OP3>, color="forestgreen"]
	q0 -> q0[label=<CD1>, color="forestgreen"]
	q0 -> q0[label=<FP3>, color="forestgreen"]
	q0 -> q0[label=<AS2>, color="forestgreen"]
	q0 -> q0[label=<OP2>, color="forestgreen"]
	q0 -> q0[label=<FP2>, color="forestgreen"]
	q0 -> q1[label=<AS2>, color="forestgreen"]
	q0 -> q2[label=<AS2>, color="forestgreen"]
	q0 -> q0[label=<AS3>, color="forestgreen"]
	q0 -> q1[label=<AS3>, color="forestgreen"]
	q0 -> q2[label=<AS3>, color="forestgreen"]
	q0 -> q0[label=<CD2>, color="forestgreen"]
	q0 -> q2[label=<CD2>, color="forestgreen"]
	q0 -> q0[label=<CD3>, color="forestgreen"]
	q0 -> q2[label=<CD3>, color="forestgreen"]
	q0 -> q0[label=<DS2>, color="forestgreen"]
	q0 -> q0[label=<DS3>, color="forestgreen"]

}
